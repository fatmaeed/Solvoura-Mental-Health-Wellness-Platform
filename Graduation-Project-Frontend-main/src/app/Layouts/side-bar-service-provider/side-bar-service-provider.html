<nav class="doctor-sidebar">
  <div class="sidebar-header">
    <div class="avatar-container">
      <img
        *ngIf="serviceProvider"
        [src]="apiurl + serviceProvider.userImagePath!"
        alt="Doctor"
        class="doctor-avatar"
      />
    </div>
    <h3 *ngIf="serviceProvider" class="doctor-name">
      Dr. {{serviceProvider.firstName}} {{serviceProvider.lastName}}
    </h3>
    <p *ngIf="serviceProvider" class="specialization">
      {{serviceProvider.specialization}}
    </p>
  </div>

  <ul class="sidebar-menu">
    <li class="menu-item" [class.active]="activeTab === 'sessions'">
      <a
        class="menu-link"
        [routerLink]="['display-sessions-to-sp']"
        routerLinkActive="active"
      >
        <i class="bi bi-list-ul me-2"></i>
        <span>My Sessions</span>
        @if (upcomingSessionsCount > 0) {
        <span class="session-badge">{{upcomingSessionsCount}}</span>
        }
      </a>
    </li>
    <li class="menu-item" [class.active]="activeTab === 'add-session'">
      <a
        class="menu-link"
        [routerLink]="['./add-sessions']"
        routerLinkActive="active"
      >
        <i class="bi bi-plus-square me-2"></i>
        <span>Add Session</span>
      </a>
    </li>
    <li class="menu-item" [class.active]="activeTab === 'requests'">
      <a
        class="menu-link"
        [routerLink]="['./client-request']"
        routerLinkActive="active"
      >
        <i class="bi bi-clipboard-check me-2"></i>
        <span>Patient Requests</span>
      </a>
    </li>
    <li class="menu-item" [class.active]="activeTab === 'patients'">
      <a
        class="menu-link"
        [routerLink]="['/service-provider-dashboard/incoming-session']"
        routerLinkActive="active"
      >
        <i class="bi bi-calendar-check"></i>
        <span>Incoming Session </span>
      </a>
    </li>
    <li class="menu-item" [class.active]="activeTab === 'community'">
      <a
        class="menu-link"
        [routerLink]="['/community']"
        routerLinkActive="active"
      >
        <i class="bi bi-people me-2"></i>
        <span>Community</span>
      </a>
    </li>
    <li class="menu-item" [class.active]="activeTab === 'profile'">
      <a
        class="menu-link"
        [routerLink]="['edit-service-provider']"
        routerLinkActive="active"
      >
        <i class="bi bi-pencil-square me-2"></i>
        <span>Edit Profile</span>
      </a>
    </li>
  </ul>

  <div class="sidebar-footer dropdown text-start">
    <button
      class="logout-btn dropdown-toggle"
      type="button"
      id="userMenuButton"
      data-bs-toggle="dropdown"
      aria-expanded="false"
    >
      <i class="bi bi-person-circle text-start"></i>
      <span>Account</span>
    </button>

    <ul class="dropdown-menu" aria-labelledby="userMenuButton">
      <li>
        <a
          class="dropdown-item"
          [routerLink]="['/', doctorName, 'profile', 'change-password']"
        >
          <i class="bi bi-key me-2"></i> Change Password
        </a>
      </li>
      <li>
        <hr class="dropdown-divider" />
      </li>
      <li>
        <button class="dropdown-item text-danger" (click)="logout()">
          <i class="bi bi-box-arrow-right me-2"></i> Log Out
        </button>
      </li>
    </ul>
  </div>
</nav>

<div class="content-area bg-white">
  <router-outlet></router-outlet>
</div>
