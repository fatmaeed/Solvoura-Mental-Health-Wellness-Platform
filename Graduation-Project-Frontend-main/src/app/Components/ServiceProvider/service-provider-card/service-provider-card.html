<div class="card h-100 border-opacity-25 shadow-soft-hover text-center p-4 rounded-4 transition-all position-relative"
     style="border: 1px solid rgba(113, 157, 201, 0.15); max-width: 300px; margin: 0 auto;">
  <div class="avatar-container mx-auto mb-3 position-relative"
       style="width: 90px; height: 90px;">
    <div class="avatar-placeholder rounded-circle w-100 h-100 d-flex align-items-center justify-content-center fw-bold text-white"
         [ngStyle]="!showImage ? avatarStyle : null"
         style="font-size: 1.8rem; background: linear-gradient(135deg, #719dc9 0%, #5a8ab8 100%); box-shadow: 0 4px 12px rgba(113, 157, 201, 0.25); overflow: hidden;">

      <ng-container *ngIf="showImage; else showInitials">
        <img src="{{apiUrl}}{{provider.userImagePath}}"
             (error)="onImageError()"
             alt="{{ provider.firstName }} {{ provider.lastName }}"
             class="w-100 h-100 object-fit-cover" />
      </ng-container>

      <ng-template #showInitials>
        {{ initials }}
      </ng-template>
    </div>
  </div>
  <h5 class="fw-bold mb-1 text-dark" style="font-size: 1.3rem;">
    {{ provider.firstName }} {{ provider.lastName }}
  </h5>
  <p class="text-primary fw-medium mb-2" style="letter-spacing: 0.5px; font-size: 0.9rem;">
    {{ provider.specialization }}
  </p>
  <p class="text-muted mb-3 small" style="line-height: 1.5;">
    {{ provider.description }}
  </p>

  <div class="rating d-flex justify-content-center align-items-center mb-3">
    @for (_ of fullStars; track $index) {
      <i class="bi bi-star-fill text-warning me-1" style="font-size: 1.1rem;"></i>
    }
    <span class="fw-medium small ms-1" style="color: #6c757d;">({{ provider.numberOfExp }})</span>
  </div>

  <div class="text-muted small d-flex justify-content-center align-items-center gap-1 mb-4">
    <i class="bi bi-geo-alt-fill" style="color: #719dc9; font-size: 0.9rem;"></i>
    <span>{{ provider.address }}</span>
  </div>

  <button (click)="handleBooking()"  class="btn btn-primary w-100 rounded-pill py-2 border-0 fw-medium position-relative overflow-hidden mt-auto"
        style="transition: all 0.3s ease; background: linear-gradient(to right, #719dc9, #5a8ab8);">
  <span class="position-relative z-index-1">Book Session</span>
  <span class="position-absolute top-0 start-0 w-100 h-100 bg-white opacity-0 hover-opacity-10"
        style="transition: all 0.3s ease;"></span>
</button>

</div>
